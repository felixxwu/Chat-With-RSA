var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,k,p){d!=Array.prototype&&d!=Object.prototype&&(d[k]=p.value)};
$jscomp.getGlobal=function(d){d=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,d];for(var k=0;k<d.length;++k){var p=d[k];if(p&&p.Math==Math)return p}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,k,p,v){if(k){p=$jscomp.global;d=d.split(".");for(v=0;v<d.length-1;v++){var y=d[v];y in p||(p[y]={});p=p[y]}d=d[d.length-1];v=p[d];k=k(v);k!=v&&null!=k&&$jscomp.defineProperty(p,d,{configurable:!0,writable:!0,value:k})}};$jscomp.underscoreProtoCanBeSet=function(){var d={a:!0},k={};try{return k.__proto__=d,k.a}catch(p){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(d,k){d.__proto__=k;if(d.__proto__!==k)throw new TypeError(d+" is not extensible");return d}:null;$jscomp.polyfill("Object.setPrototypeOf",function(d){return d||$jscomp.setPrototypeOf},"es6","es5");$jscomp.arrayIteratorImpl=function(d){var k=0;return function(){return k<d.length?{done:!1,value:d[k++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(d,k){this.$jscomp$symbol$id_=d;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:k})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function d(p){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(p||"")+"_"+k++,p)}var k=0;return d}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.asyncIterator;d||(d=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};
$jscomp.iteratorFromArray=function(d,k){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var p=0,v={next:function(){if(p<d.length){var y=p++;return{value:k(y,d[y]),done:!1}}v.next=function(){return{done:!0,value:void 0}};return v.next()}};v[Symbol.iterator]=function(){return v};return v};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
window.CryptoJS=window.CryptoJS||function(d,k){var p={},v=p.lib={},y=function(){},x=v.Base={extend:function(w){y.prototype=this;var f=new y;w&&f.mixIn(w);f.hasOwnProperty("init")||(f.init=function(){f.$super.init.apply(this,arguments)});f.init.prototype=f;f.$super=this;return f},create:function(){var f=this.extend();f.init.apply(f,arguments);return f},init:function(){},mixIn:function(f){for(var w in f)f.hasOwnProperty(w)&&(this[w]=f[w]);f.hasOwnProperty("toString")&&(this.toString=f.toString)},clone:function(){return this.init.prototype.extend(this)}},
A=v.WordArray=x.extend({init:function(f,d){f=this.words=f||[];this.sigBytes=d!=k?d:4*f.length},toString:function(f){return(f||t).stringify(this)},concat:function(f){var w=this.words,m=f.words,q=this.sigBytes;f=f.sigBytes;this.clamp();if(q%4)for(var d=0;d<f;d++)w[q+d>>>2]|=(m[d>>>2]>>>24-d%4*8&255)<<24-(q+d)%4*8;else if(65535<m.length)for(d=0;d<f;d+=4)w[q+d>>>2]=m[d>>>2];else w.push.apply(w,m);this.sigBytes+=f;return this},clamp:function(){var f=this.words,h=this.sigBytes;f[h>>>2]&=4294967295<<32-
h%4*8;f.length=d.ceil(h/4)},clone:function(){var f=x.clone.call(this);f.words=this.words.slice(0);return f},random:function(f){for(var w=[],m=0;m<f;m+=4)w.push(4294967296*d.random()|0);return new A.init(w,f)}}),C=p.enc={},t=C.Hex={stringify:function(f){var d=f.words;f=f.sigBytes;for(var m=[],q=0;q<f;q++){var w=d[q>>>2]>>>24-q%4*8&255;m.push((w>>>4).toString(16));m.push((w&15).toString(16))}return m.join("")},parse:function(f){for(var d=f.length,m=[],q=0;q<d;q+=2)m[q>>>3]|=parseInt(f.substr(q,2),16)<<
24-q%8*4;return new A.init(m,d/2)}},h=C.Latin1={stringify:function(f){var d=f.words;f=f.sigBytes;for(var m=[],q=0;q<f;q++)m.push(String.fromCharCode(d[q>>>2]>>>24-q%4*8&255));return m.join("")},parse:function(f){for(var d=f.length,m=[],q=0;q<d;q++)m[q>>>2]|=(f.charCodeAt(q)&255)<<24-q%4*8;return new A.init(m,d)}},I=C.Utf8={stringify:function(f){try{return decodeURIComponent(escape(h.stringify(f)))}catch(H){throw Error("Malformed UTF-8 data");}},parse:function(f){return h.parse(unescape(encodeURIComponent(f)))}},
B=v.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new A.init;this._nDataBytes=0},_append:function(f){"string"==typeof f&&(f=I.parse(f));this._data.concat(f);this._nDataBytes+=f.sigBytes},_process:function(f){var h=this._data,m=h.words,q=h.sigBytes,w=this.blockSize,k=q/(4*w);k=f?d.ceil(k):d.max((k|0)-this._minBufferSize,0);f=k*w;q=d.min(4*f,q);if(f){for(var B=0;B<f;B+=w)this._doProcessBlock(m,B);B=m.splice(0,f);h.sigBytes-=q}return new A.init(B,q)},clone:function(){var f=x.clone.call(this);
f._data=this._data.clone();return f},_minBufferSize:0});v.Hasher=B.extend({cfg:x.extend(),init:function(f){this.cfg=this.cfg.extend(f);this.reset()},reset:function(){B.reset.call(this);this._doReset()},update:function(f){this._append(f);this._process();return this},finalize:function(f){f&&this._append(f);return this._doFinalize()},blockSize:16,_createHelper:function(f){return function(d,m){return(new f.init(m)).finalize(d)}},_createHmacHelper:function(d){return function(h,m){return(new f.HMAC.init(d,
m)).finalize(h)}}});var f=p.algo={};return p}(Math);
(function(){var d=CryptoJS,k=d.lib.WordArray;d.enc.Base64={stringify:function(d){var k=d.words,p=d.sigBytes,x=this._map;d.clamp();d=[];for(var A=0;A<p;A+=3)for(var C=(k[A>>>2]>>>24-A%4*8&255)<<16|(k[A+1>>>2]>>>24-(A+1)%4*8&255)<<8|k[A+2>>>2]>>>24-(A+2)%4*8&255,t=0;4>t&&A+.75*t<p;t++)d.push(x.charAt(C>>>6*(3-t)&63));if(k=x.charAt(64))for(;d.length%4;)d.push(k);return d.join("")},parse:function(d){var p=d.length,y=this._map,x=y.charAt(64);x&&(x=d.indexOf(x),-1!=x&&(p=x));x=[];for(var A=0,C=0;C<p;C++)if(C%
4){var t=y.indexOf(d.charAt(C-1))<<C%4*2,h=y.indexOf(d.charAt(C))>>>6-C%4*2;x[A>>>2]|=(t|h)<<24-A%4*8;A++}return k.create(x,A)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();
(function(d){function k(d,f,h,k,m,q,D){d=d+(f&h|~f&k)+m+D;return(d<<q|d>>>32-q)+f}function p(d,f,h,k,m,q,D){d=d+(f&k|h&~k)+m+D;return(d<<q|d>>>32-q)+f}function v(d,f,h,k,m,q,D){d=d+(f^h^k)+m+D;return(d<<q|d>>>32-q)+f}function y(d,f,h,k,m,q,D){d=d+(h^(f|~k))+m+D;return(d<<q|d>>>32-q)+f}var x=CryptoJS,A=x.lib,C=A.WordArray,t=A.Hasher;A=x.algo;for(var h=[],I=0;64>I;I++)h[I]=4294967296*d.abs(d.sin(I+1))|0;A=A.MD5=t.extend({_doReset:function(){this._hash=new C.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(d,f){for(var w=0;16>w;w++){var t=f+w,m=d[t];d[t]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}w=this._hash.words;t=d[f+0];m=d[f+1];var q=d[f+2],D=d[f+3],K=d[f+4],A=d[f+5],B=d[f+6],x=d[f+7],C=d[f+8],N=d[f+9],F=d[f+10],P=d[f+11],z=d[f+12],Q=d[f+13],O=d[f+14];d=d[f+15];f=w[0];var u=w[1],r=w[2],l=w[3];f=k(f,u,r,l,t,7,h[0]);l=k(l,f,u,r,m,12,h[1]);r=k(r,l,f,u,q,17,h[2]);u=k(u,r,l,f,D,22,h[3]);f=k(f,u,r,l,K,7,h[4]);l=k(l,f,u,r,A,12,h[5]);r=k(r,l,f,u,B,17,h[6]);u=k(u,r,l,f,x,22,
h[7]);f=k(f,u,r,l,C,7,h[8]);l=k(l,f,u,r,N,12,h[9]);r=k(r,l,f,u,F,17,h[10]);u=k(u,r,l,f,P,22,h[11]);f=k(f,u,r,l,z,7,h[12]);l=k(l,f,u,r,Q,12,h[13]);r=k(r,l,f,u,O,17,h[14]);u=k(u,r,l,f,d,22,h[15]);f=p(f,u,r,l,m,5,h[16]);l=p(l,f,u,r,B,9,h[17]);r=p(r,l,f,u,P,14,h[18]);u=p(u,r,l,f,t,20,h[19]);f=p(f,u,r,l,A,5,h[20]);l=p(l,f,u,r,F,9,h[21]);r=p(r,l,f,u,d,14,h[22]);u=p(u,r,l,f,K,20,h[23]);f=p(f,u,r,l,N,5,h[24]);l=p(l,f,u,r,O,9,h[25]);r=p(r,l,f,u,D,14,h[26]);u=p(u,r,l,f,C,20,h[27]);f=p(f,u,r,l,Q,5,h[28]);l=
p(l,f,u,r,q,9,h[29]);r=p(r,l,f,u,x,14,h[30]);u=p(u,r,l,f,z,20,h[31]);f=v(f,u,r,l,A,4,h[32]);l=v(l,f,u,r,C,11,h[33]);r=v(r,l,f,u,P,16,h[34]);u=v(u,r,l,f,O,23,h[35]);f=v(f,u,r,l,m,4,h[36]);l=v(l,f,u,r,K,11,h[37]);r=v(r,l,f,u,x,16,h[38]);u=v(u,r,l,f,F,23,h[39]);f=v(f,u,r,l,Q,4,h[40]);l=v(l,f,u,r,t,11,h[41]);r=v(r,l,f,u,D,16,h[42]);u=v(u,r,l,f,B,23,h[43]);f=v(f,u,r,l,N,4,h[44]);l=v(l,f,u,r,z,11,h[45]);r=v(r,l,f,u,d,16,h[46]);u=v(u,r,l,f,q,23,h[47]);f=y(f,u,r,l,t,6,h[48]);l=y(l,f,u,r,x,10,h[49]);r=y(r,
l,f,u,O,15,h[50]);u=y(u,r,l,f,A,21,h[51]);f=y(f,u,r,l,z,6,h[52]);l=y(l,f,u,r,D,10,h[53]);r=y(r,l,f,u,F,15,h[54]);u=y(u,r,l,f,m,21,h[55]);f=y(f,u,r,l,C,6,h[56]);l=y(l,f,u,r,d,10,h[57]);r=y(r,l,f,u,B,15,h[58]);u=y(u,r,l,f,Q,21,h[59]);f=y(f,u,r,l,K,6,h[60]);l=y(l,f,u,r,P,10,h[61]);r=y(r,l,f,u,q,15,h[62]);u=y(u,r,l,f,N,21,h[63]);w[0]=w[0]+f|0;w[1]=w[1]+u|0;w[2]=w[2]+r|0;w[3]=w[3]+l|0},_doFinalize:function(){var h=this._data,f=h.words,k=8*this._nDataBytes,t=8*h.sigBytes;f[t>>>5]|=128<<24-t%32;var m=d.floor(k/
4294967296);f[(t+64>>>9<<4)+15]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360;f[(t+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;h.sigBytes=4*(f.length+1);this._process();h=this._hash;f=h.words;for(k=0;4>k;k++)t=f[k],f[k]=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360;return h},clone:function(){var d=t.clone.call(this);d._hash=this._hash.clone();return d}});x.MD5=t._createHelper(A);x.HmacMD5=t._createHmacHelper(A)})(Math);
(function(){var d=CryptoJS,k=d.lib,p=k.Base,v=k.WordArray;k=d.algo;var y=k.EvpKDF=p.extend({cfg:p.extend({keySize:4,hasher:k.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,k){var p=this.cfg,t=p.hasher.create(),h=v.create(),A=h.words,y=p.keySize;for(p=p.iterations;A.length<y;){f&&t.update(f);var f=t.update(d).finalize(k);t.reset();for(var w=1;w<p;w++)f=t.finalize(f),t.reset();h.concat(f)}h.sigBytes=4*y;return h}});d.EvpKDF=function(d,k,p){return y.create(p).compute(d,
k)}})();
CryptoJS.lib.Cipher||function(d){var k=CryptoJS,p=k.lib,v=p.Base,y=p.WordArray,x=p.BufferedBlockAlgorithm,A=k.enc.Base64,C=k.algo.EvpKDF,t=p.Cipher=x.extend({cfg:v.extend(),createEncryptor:function(f,d){return this.create(this._ENC_XFORM_MODE,f,d)},createDecryptor:function(f,d){return this.create(this._DEC_XFORM_MODE,f,d)},init:function(f,d,h){this.cfg=this.cfg.extend(h);this._xformMode=f;this._key=d;this.reset()},reset:function(){x.reset.call(this);this._doReset()},process:function(f){this._append(f);return this._process()},
finalize:function(f){f&&this._append(f);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(f){return{encrypt:function(d,m,h){return("string"==typeof m?H:w).encrypt(f,d,m,h)},decrypt:function(d,m,h){return("string"==typeof m?H:w).decrypt(f,d,m,h)}}}});p.StreamCipher=t.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=k.mode={},I=function(f,h,k){var m=this._iv;m?this._iv=d:m=this._prevBlock;for(var q=0;q<k;q++)f[h+q]^=
m[q]},B=(p.BlockCipherMode=v.extend({createEncryptor:function(f,d){return this.Encryptor.create(f,d)},createDecryptor:function(f,d){return this.Decryptor.create(f,d)},init:function(f,d){this._cipher=f;this._iv=d}})).extend();B.Encryptor=B.extend({processBlock:function(f,d){var m=this._cipher,h=m.blockSize;I.call(this,f,d,h);m.encryptBlock(f,d);this._prevBlock=f.slice(d,d+h)}});B.Decryptor=B.extend({processBlock:function(f,d){var m=this._cipher,h=m.blockSize,k=f.slice(d,d+h);m.decryptBlock(f,d);I.call(this,
f,d,h);this._prevBlock=k}});h=h.CBC=B;B=(k.pad={}).Pkcs7={pad:function(f,d){d*=4;d-=f.sigBytes%d;for(var h=d<<24|d<<16|d<<8|d,m=[],k=0;k<d;k+=4)m.push(h);d=y.create(m,d);f.concat(d)},unpad:function(f){f.sigBytes-=f.words[f.sigBytes-1>>>2]&255}};p.BlockCipher=t.extend({cfg:t.cfg.extend({mode:h,padding:B}),reset:function(){t.reset.call(this);var f=this.cfg,d=f.iv;f=f.mode;if(this._xformMode==this._ENC_XFORM_MODE)var h=f.createEncryptor;else h=f.createDecryptor,this._minBufferSize=1;this._mode=h.call(f,
this,d&&d.words)},_doProcessBlock:function(f,d){this._mode.processBlock(f,d)},_doFinalize:function(){var f=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){f.pad(this._data,this.blockSize);var d=this._process(!0)}else d=this._process(!0),f.unpad(d);return d},blockSize:4});var f=p.CipherParams=v.extend({init:function(f){this.mixIn(f)},toString:function(f){return(f||this.formatter).stringify(this)}});h=(k.format={}).OpenSSL={stringify:function(f){var d=f.ciphertext;f=f.salt;return(f?y.create([1398893684,
1701076831]).concat(f).concat(d):d).toString(A)},parse:function(d){d=A.parse(d);var h=d.words;if(1398893684==h[0]&&1701076831==h[1]){var k=y.create(h.slice(2,4));h.splice(0,4);d.sigBytes-=16}return f.create({ciphertext:d,salt:k})}};var w=p.SerializableCipher=v.extend({cfg:v.extend({format:h}),encrypt:function(d,h,k,t){t=this.cfg.extend(t);var m=d.createEncryptor(k,t);h=m.finalize(h);m=m.cfg;return f.create({ciphertext:h,key:k,iv:m.iv,algorithm:d,mode:m.mode,padding:m.padding,blockSize:d.blockSize,
formatter:t.format})},decrypt:function(f,d,h,k){k=this.cfg.extend(k);d=this._parse(d,k.format);return f.createDecryptor(h,k).finalize(d.ciphertext)},_parse:function(f,d){return"string"==typeof f?d.parse(f,this):f}});k=(k.kdf={}).OpenSSL={execute:function(d,h,k,t){t||(t=y.random(8));d=C.create({keySize:h+k}).compute(d,t);k=y.create(d.words.slice(h),4*k);d.sigBytes=4*h;return f.create({key:d,iv:k,salt:t})}};var H=p.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:k}),encrypt:function(f,d,h,k){k=
this.cfg.extend(k);h=k.kdf.execute(h,f.keySize,f.ivSize);k.iv=h.iv;f=w.encrypt.call(this,f,d,h.key,k);f.mixIn(h);return f},decrypt:function(f,d,h,k){k=this.cfg.extend(k);d=this._parse(d,k.format);h=k.kdf.execute(h,f.keySize,f.ivSize,d.salt);k.iv=h.iv;return w.decrypt.call(this,f,d,h.key,k)}})}();
(function(){for(var d=CryptoJS,k=d.lib.BlockCipher,p=d.algo,v=[],y=[],x=[],A=[],C=[],t=[],h=[],I=[],B=[],f=[],w=[],H=0;256>H;H++)w[H]=128>H?H<<1:H<<1^283;var m=0,q=0;for(H=0;256>H;H++){var D=q^q<<1^q<<2^q<<3^q<<4;D=D>>>8^D&255^99;v[m]=D;y[D]=m;var K=w[m],R=w[K],E=w[R],G=257*w[D]^16843008*D;x[m]=G<<24|G>>>8;A[m]=G<<16|G>>>16;C[m]=G<<8|G>>>24;t[m]=G;G=16843009*E^65537*R^257*K^16843008*m;h[D]=G<<24|G>>>8;I[D]=G<<16|G>>>16;B[D]=G<<8|G>>>24;f[D]=G;m?(m=K^w[w[w[E^K]]],q^=w[w[q]]):m=q=1}var W=[0,1,2,4,8,
16,32,64,128,27,54];p=p.AES=k.extend({_doReset:function(){var d=this._key,k=d.words,m=d.sigBytes/4;d=4*((this._nRounds=m+6)+1);for(var t=this._keySchedule=[],p=0;p<d;p++)if(p<m)t[p]=k[p];else{var q=t[p-1];p%m?6<m&&4==p%m&&(q=v[q>>>24]<<24|v[q>>>16&255]<<16|v[q>>>8&255]<<8|v[q&255]):(q=q<<8|q>>>24,q=v[q>>>24]<<24|v[q>>>16&255]<<16|v[q>>>8&255]<<8|v[q&255],q^=W[p/m|0]<<24);t[p]=t[p-m]^q}k=this._invKeySchedule=[];for(m=0;m<d;m++)p=d-m,q=m%4?t[p]:t[p-4],k[m]=4>m||4>=p?q:h[v[q>>>24]]^I[v[q>>>16&255]]^
B[v[q>>>8&255]]^f[v[q&255]]},encryptBlock:function(f,d){this._doCryptBlock(f,d,this._keySchedule,x,A,C,t,v)},decryptBlock:function(d,k){var m=d[k+1];d[k+1]=d[k+3];d[k+3]=m;this._doCryptBlock(d,k,this._invKeySchedule,h,I,B,f,y);m=d[k+1];d[k+1]=d[k+3];d[k+3]=m},_doCryptBlock:function(d,f,h,k,m,t,p,r){for(var l=this._nRounds,q=d[f]^h[0],u=d[f+1]^h[1],w=d[f+2]^h[2],v=d[f+3]^h[3],y=4,z=1;z<l;z++){var A=k[q>>>24]^m[u>>>16&255]^t[w>>>8&255]^p[v&255]^h[y++],x=k[u>>>24]^m[w>>>16&255]^t[v>>>8&255]^p[q&255]^
h[y++],n=k[w>>>24]^m[v>>>16&255]^t[q>>>8&255]^p[u&255]^h[y++];v=k[v>>>24]^m[q>>>16&255]^t[u>>>8&255]^p[w&255]^h[y++];q=A;u=x;w=n}A=(r[q>>>24]<<24|r[u>>>16&255]<<16|r[w>>>8&255]<<8|r[v&255])^h[y++];x=(r[u>>>24]<<24|r[w>>>16&255]<<16|r[v>>>8&255]<<8|r[q&255])^h[y++];n=(r[w>>>24]<<24|r[v>>>16&255]<<16|r[q>>>8&255]<<8|r[u&255])^h[y++];v=(r[v>>>24]<<24|r[q>>>16&255]<<16|r[u>>>8&255]<<8|r[w&255])^h[y++];d[f]=A;d[f+1]=x;d[f+2]=n;d[f+3]=v},keySize:8});d.AES=k._createHelper(p)})();!function(d,k){"object"==typeof exports&&"undefined"!=typeof module?k(exports):"function"==typeof define&&define.amd?define(["exports"],k):k(d.JSEncrypt={})}(this,function(d){function k(b,a){return b&a}function p(b,a){return b|a}function v(b,a){return b^a}function y(b,a){return b&~a}function x(b){var a,c="";for(a=0;a+3<=b.length;a+=3){var g=parseInt(b.substring(a,a+3),16);c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&
g)}for(a+1==b.length?(g=parseInt(b.substring(a,a+1),16),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g<<2)):a+2==b.length&&(g=parseInt(b.substring(a,a+2),16),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((3&g)<<4));0<(3&c.length);)c+="=";return c}function A(b){var a,c="",g=0,J=0;for(a=0;a<b.length&&"="!=b.charAt(a);++a){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(a));
0>d||(0==g?(c+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(d>>2),J=3&d,g=1):1==g?(c+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(J<<2|d>>4),J=15&d,g=2):2==g?(c+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(J),c+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(d>>2),J=3&d,g=3):(c+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(J<<2|d>>4),c+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(15&d),g=0))}return 1==g&&(c+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(J<<2)),c}function C(b,a){return b.length>
a&&(b=b.substring(0,a)+"\u2026"),b}function t(){return new z(null)}function h(b,a){return new z(b,a)}function I(b,a){b=S[b.charCodeAt(a)];return null==b?-1:b}function B(b){var a=t();return a.fromInt(b),a}function f(b){var a,c=1;return 0!=(a=b>>>16)&&(b=a,c+=16),0!=(a=b>>8)&&(b=a,c+=8),0!=(a=b>>4)&&(b=a,c+=4),0!=(a=b>>2)&&(b=a,c+=2),0!=b>>1&&(c+=1),c}var w,H=function(b,a){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var c in g)g.hasOwnProperty(c)&&
(a[c]=g[c])})(b,a)},m,q={decode:function(b){var a;if(void 0===m){m=Object.create(null);for(a=0;64>a;++a)m["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a)]=a;for(a=0;9>a;++a)m["= \f\n\r\t \u2028\u2029".charAt(a)]=-1}var c=[],g=0,J=0;for(a=0;a<b.length;++a){var d=b.charAt(a);if("="==d)break;if(-1!=(d=m[d])){if(void 0===d)throw Error("Illegal character at offset "+a);g|=d;4<=++J?(c[c.length]=g>>16,c[c.length]=g>>8&255,c[c.length]=255&g,J=g=0):g<<=6}}switch(J){case 1:throw Error("Base64 encoding incomplete: at least 2 bits missing");
case 2:c[c.length]=g>>10;break;case 3:c[c.length]=g>>16,c[c.length]=g>>8&255}return c},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(b){var a=q.re.exec(b);if(a)if(a[1])b=a[1];else{if(!a[2])throw Error("RegExp out of sync");b=a[2]}return q.decode(b)}},D=function(){function b(a){this.buf=[+a||0]}return b.prototype.mulAdd=function(a,c){var g,b,d=this.buf,f=d.length;for(g=0;g<f;++g)1E13>(b=d[g]*a+c)?c=0:b-=1E13*(c=0|b/1E13),
d[g]=b;0<c&&(d[g]=c)},b.prototype.sub=function(a){var c,g,b=this.buf,d=b.length;for(c=0;c<d;++c)0>(g=b[c]-a)?(g+=1E13,a=1):a=0,b[c]=g;for(;0===b[b.length-1];)b.pop()},b.prototype.toString=function(a){if(10!=(a||10))throw Error("only base 10 is supported");a=this.buf;for(var c=a[a.length-1].toString(),g=a.length-2;0<=g;--g)c+=(1E13+a[g]).toString().substring(1);return c},b.prototype.valueOf=function(){for(var a=this.buf,c=0,g=a.length-1;0<=g;--g)c=1E13*c+a[g];return c},b.prototype.simplify=function(){var a=
this.buf;return 1==a.length?a[0]:this},b}(),K=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,R=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,E,G=function(){function b(a,c){this.hexDigits="0123456789ABCDEF";a instanceof b?(this.enc=a.enc,this.pos=a.pos):(this.enc=a,this.pos=c)}return b.prototype.get=function(a){if(void 0===
a&&(a=this.pos++),a>=this.enc.length)throw Error("Requesting byte offset "+a+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(a):this.enc[a]},b.prototype.hexByte=function(a){return this.hexDigits.charAt(a>>4&15)+this.hexDigits.charAt(15&a)},b.prototype.hexDump=function(a,c,g){for(var b="";a<c;++a)if(b+=this.hexByte(this.get(a)),!0!==g)switch(15&a){case 7:b+="  ";break;case 15:b+="\n";break;default:b+=" "}return b},b.prototype.isASCII=function(a,c){for(;a<
c;++a){var g=this.get(a);if(32>g||176<g)return!1}return!0},b.prototype.parseStringISO=function(a,c){for(var g="";a<c;++a)g+=String.fromCharCode(this.get(a));return g},b.prototype.parseStringUTF=function(a,c){for(var g="";a<c;){var b=this.get(a++);g+=128>b?String.fromCharCode(b):191<b&&224>b?String.fromCharCode((31&b)<<6|63&this.get(a++)):String.fromCharCode((15&b)<<12|(63&this.get(a++))<<6|63&this.get(a++))}return g},b.prototype.parseStringBMP=function(a,c){for(var g,b="",d=a;d<c;)a=this.get(d++),
g=this.get(d++),b+=String.fromCharCode(a<<8|g);return b},b.prototype.parseTime=function(a,c,g){a=this.parseStringISO(a,c);return(c=(g?K:R).exec(a))?(g&&(c[1]=+c[1],c[1]+=70>+c[1]?2E3:1900),a=c[1]+"-"+c[2]+"-"+c[3]+" "+c[4],c[5]&&(a+=":"+c[5],c[6]&&(a+=":"+c[6],c[7]&&(a+="."+c[7]))),c[8]&&(a+=" UTC","Z"!=c[8]&&(a+=c[8],c[9]&&(a+=":"+c[9]))),a):"Unrecognized time: "+a},b.prototype.parseInteger=function(a,c){for(var g,b=this.get(a),d=127<b,f=d?255:0,h="";b==f&&++a<c;)b=this.get(a);if(0===(g=c-a))return d?
-1:0;if(4<g){h=b;for(g<<=3;0==(128&(+h^f));)h=+h<<1,--g;h="("+g+" bit)\n"}d&&(b-=256);g=new D(b);for(a+=1;a<c;++a)g.mulAdd(256,this.get(a));return h+g.toString()},b.prototype.parseBitString=function(a,c,g){var b=this.get(a),d="("+((c-a-1<<3)-b)+" bit)\n",f="";for(a+=1;a<c;++a){for(var h=this.get(a),k=a==c-1?b:0,l=7;k<=l;--l)f+=h>>l&1?"1":"0";if(f.length>g)return d+C(f,g)}return d+f},b.prototype.parseOctetString=function(a,c,g){if(this.isASCII(a,c))return C(this.parseStringISO(a,c),g);var b=c-a,d=
"("+b+" byte)\n";for((g/=2)<b&&(c=a+g);a<c;++a)d+=this.hexByte(this.get(a));return g<b&&(d+="\u2026"),d},b.prototype.parseOID=function(a,c,g){for(var b="",d=new D,f=0;a<c;++a){var h=this.get(a);if(d.mulAdd(128,127&h),f+=7,!(128&h)){""===b?(d=d.simplify())instanceof D?(d.sub(80),b="2."+d.toString()):(b=80>d?40>d?0:1:2,b=b+"."+(d-40*b)):b+="."+d.toString();if(b.length>g)return C(b,g);d=new D;f=0}}return 0<f&&(b+=".incomplete"),b},b}(),W=function(){function b(a,c,g,b,d){if(!(b instanceof N))throw Error("Invalid tag value.");
this.stream=a;this.header=c;this.length=g;this.tag=b;this.sub=d}return b.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";
case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+
"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},b.prototype.content=function(a){if(void 0===this.tag)return null;void 0===a&&(a=1/0);var c=this.posContent(),g=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(c,c+g,a);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(c)?"false":"true";case 2:return this.stream.parseInteger(c,c+g);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(c,
c+g,a);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(c,c+g,a);case 6:return this.stream.parseOID(c,c+g,a);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return C(this.stream.parseStringUTF(c,c+g),a);case 18:case 19:case 20:case 21:case 22:case 26:return C(this.stream.parseStringISO(c,c+g),a);case 30:return C(this.stream.parseStringBMP(c,c+g),a);case 23:case 24:return this.stream.parseTime(c,c+g,23==this.tag.tagNumber)}return null},
b.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},b.prototype.toPrettyString=function(a){void 0===a&&(a="");var c=a+this.typeName()+" @"+this.stream.pos;if(0<=this.length&&(c+="+"),c+=this.length,this.tag.tagConstructed?c+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(c+=" (encapsulates)"),c+="\n",null!==this.sub){a+=
"  ";for(var g=0,b=this.sub.length;g<b;++g)c+=this.sub[g].toPrettyString(a)}return c},b.prototype.posStart=function(){return this.stream.pos},b.prototype.posContent=function(){return this.stream.pos+this.header},b.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},b.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},b.decodeLength=function(a){var c=a.get(),g=127&c;if(g==c)return g;if(6<g)throw Error("Length over 48 bits not supported at position "+
(a.pos-1));if(0===g)return null;for(var b=c=0;b<g;++b)c=256*c+a.get();return c},b.prototype.getHexStringValue=function(){return this.toHexString().substr(2*this.header,2*this.length)},b.decode=function(a){var c=a instanceof G?a:new G(a,0);a=new G(c);var g=new N(c),d=b.decodeLength(c),f=c.pos,h=f-a.pos,k=null,l=function(){var a=[];if(null!==d){for(var g=f+d;c.pos<g;)a[a.length]=b.decode(c);if(c.pos!=g)throw Error("Content size is not correct for container starting at offset "+f);}else try{for(;;){g=
b.decode(c);if(g.tag.isEOC())break;a[a.length]=g}d=f-c.pos}catch(aa){throw Error("Exception while decoding undefined length content: "+aa);}return a};if(g.tagConstructed)k=l();else if(g.isUniversal()&&(3==g.tagNumber||4==g.tagNumber))try{if(3==g.tagNumber&&0!=c.get())throw Error("BIT STRINGs with unused bits cannot encapsulate.");k=l();for(l=0;l<k.length;++l)if(k[l].tag.isEOC())throw Error("EOC is not supposed to be actual content.");}catch(ca){k=null}if(null===k){if(null===d)throw Error("We can't skip over an invalid tag with undefined length at offset "+
f);c.pos=f+Math.abs(d)}return new b(a,h,d,g,k)},b}(),N=function(){function b(a){var c=a.get();if(this.tagClass=c>>6,this.tagConstructed=0!=(32&c),this.tagNumber=31&c,31==this.tagNumber){for(var g=new D;c=a.get(),g.mulAdd(128,127&c),128&c;);this.tagNumber=g.simplify()}}return b.prototype.isUniversal=function(){return 0===this.tagClass},b.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},b}(),F=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,
109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,
907,911,919,929,937,941,947,953,967,971,977,983,991,997],P=67108864/F[F.length-1],z=function(){function b(a,c,g){null!=a&&("number"==typeof a?this.fromNumber(a,c,g):null==c&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,c))}return b.prototype.toString=function(a){if(0>this.s)return"-"+this.negate().toString(a);if(16==a)a=4;else if(8==a)a=3;else if(2==a)a=1;else if(32==a)a=5;else{if(4!=a)return this.toRadix(a);a=2}var c,g=(1<<a)-1,b=!1,d="",f=this.t,h=this.DB-f*this.DB%a;if(0<f--)for(h<
this.DB&&0<(c=this[f]>>h)&&(b=!0,d="0123456789abcdefghijklmnopqrstuvwxyz".charAt(c));0<=f;)h<a?(c=(this[f]&(1<<h)-1)<<a-h,c|=this[--f]>>(h+=this.DB-a)):(c=this[f]>>(h-=a)&g,0>=h&&(h+=this.DB,--f)),0<c&&(b=!0),b&&(d+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(c));return b?d:"0"},b.prototype.negate=function(){var a=t();return b.ZERO.subTo(this,a),a},b.prototype.abs=function(){return 0>this.s?this.negate():this},b.prototype.compareTo=function(a){var c=this.s-a.s;if(0!=c)return c;var g=this.t;if(0!=
(c=g-a.t))return 0>this.s?-c:c;for(;0<=--g;)if(0!=(c=this[g]-a[g]))return c;return 0},b.prototype.bitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},b.prototype.mod=function(a){var c=t();return this.abs().divRemTo(a,null,c),0>this.s&&0<c.compareTo(b.ZERO)&&a.subTo(c,c),c},b.prototype.modPowInt=function(a,c){var g;return g=256>a||c.isEven()?new O(c):new u(c),this.exp(a,g)},b.prototype.clone=function(){var a=t();return this.copyTo(a),a},b.prototype.intValue=
function(){if(0>this.s){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},b.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},b.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},b.prototype.signum=function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this[0]?0:1},b.prototype.toByteArray=function(){var a=this.t,c=[];c[0]=this.s;var g,b=this.DB-
a*this.DB%8,d=0;if(0<a--)for(b<this.DB&&(g=this[a]>>b)!=(this.s&this.DM)>>b&&(c[d++]=g|this.s<<this.DB-b);0<=a;)8>b?(g=(this[a]&(1<<b)-1)<<8-b,g|=this[--a]>>(b+=this.DB-8)):(g=this[a]>>(b-=8)&255,0>=b&&(b+=this.DB,--a)),0!=(128&g)&&(g|=-256),0==d&&(128&this.s)!=(128&g)&&++d,(0<d||g!=this.s)&&(c[d++]=g);return c},b.prototype.equals=function(a){return 0==this.compareTo(a)},b.prototype.min=function(a){return 0>this.compareTo(a)?this:a},b.prototype.max=function(a){return 0<this.compareTo(a)?this:a},b.prototype.and=
function(a){var c=t();return this.bitwiseTo(a,k,c),c},b.prototype.or=function(a){var c=t();return this.bitwiseTo(a,p,c),c},b.prototype.xor=function(a){var c=t();return this.bitwiseTo(a,v,c),c},b.prototype.andNot=function(a){var c=t();return this.bitwiseTo(a,y,c),c},b.prototype.not=function(){for(var a=t(),c=0;c<this.t;++c)a[c]=this.DM&~this[c];return a.t=this.t,a.s=~this.s,a},b.prototype.shiftLeft=function(a){var c=t();return 0>a?this.rShiftTo(-a,c):this.lShiftTo(a,c),c},b.prototype.shiftRight=function(a){var c=
t();return 0>a?this.lShiftTo(-a,c):this.rShiftTo(a,c),c},b.prototype.getLowestSetBit=function(){for(var a=0;a<this.t;++a)if(0!=this[a]){var c=a*this.DB;var g=this[a];if(0==g)a=-1;else{var b=0;a=(0==(65535&g)&&(g>>=16,b+=16),0==(255&g)&&(g>>=8,b+=8),0==(15&g)&&(g>>=4,b+=4),0==(3&g)&&(g>>=2,b+=2),0==(1&g)&&++b,b)}return c+a}return 0>this.s?this.t*this.DB:-1},b.prototype.bitCount=function(){for(var a=0,c=this.s&this.DM,g=0;g<this.t;++g){for(var b=this[g]^c,d=0;0!=b;)b&=b-1,++d;a+=d}return a},b.prototype.testBit=
function(a){var c=Math.floor(a/this.DB);return c>=this.t?0!=this.s:0!=(this[c]&1<<a%this.DB)},b.prototype.setBit=function(a){return this.changeBit(a,p)},b.prototype.clearBit=function(a){return this.changeBit(a,y)},b.prototype.flipBit=function(a){return this.changeBit(a,v)},b.prototype.add=function(a){var c=t();return this.addTo(a,c),c},b.prototype.subtract=function(a){var c=t();return this.subTo(a,c),c},b.prototype.multiply=function(a){var c=t();return this.multiplyTo(a,c),c},b.prototype.divide=function(a){var c=
t();return this.divRemTo(a,c,null),c},b.prototype.remainder=function(a){var c=t();return this.divRemTo(a,null,c),c},b.prototype.divideAndRemainder=function(a){var c=t(),g=t();return this.divRemTo(a,c,g),[c,g]},b.prototype.modPow=function(a,c){var g=a.bitLength(),b=B(1);if(0>=g)return b;var d=18>g?1:48>g?3:144>g?4:768>g?5:6;c=8>g?new O(c):c.isEven()?new r(c):new u(c);var h=[],k=3,l=d-1,m=(1<<d)-1;if(h[1]=c.convert(this),1<d)for(g=t(),c.sqrTo(h[1],g);k<=m;)h[k]=t(),c.mulTo(g,h[k-2],h[k]),k+=2;var n,
q,p=a.t-1,w=!0,v=t();for(g=f(a[p])-1;0<=p;){l<=g?n=a[p]>>g-l&m:(n=(a[p]&(1<<g+1)-1)<<l-g,0<p&&(n|=a[p-1]>>this.DB+g-l));for(k=d;0==(1&n);)n>>=1,--k;if(0>(g-=k)&&(g+=this.DB,--p),w)h[n].copyTo(b),w=!1;else{for(;1<k;)c.sqrTo(b,v),c.sqrTo(v,b),k-=2;0<k?c.sqrTo(b,v):(q=b,b=v,v=q);c.mulTo(v,h[n],b)}for(;0<=p&&0==(a[p]&1<<g);)c.sqrTo(b,v),q=b,b=v,v=q,0>--g&&(g=this.DB-1,--p)}return c.revert(b)},b.prototype.modInverse=function(a){var c=a.isEven();if(this.isEven()&&c||0==a.signum())return b.ZERO;for(var g=
a.clone(),d=this.clone(),f=B(1),h=B(0),k=B(0),l=B(1);0!=g.signum();){for(;g.isEven();)g.rShiftTo(1,g),c?(f.isEven()&&h.isEven()||(f.addTo(this,f),h.subTo(a,h)),f.rShiftTo(1,f)):h.isEven()||h.subTo(a,h),h.rShiftTo(1,h);for(;d.isEven();)d.rShiftTo(1,d),c?(k.isEven()&&l.isEven()||(k.addTo(this,k),l.subTo(a,l)),k.rShiftTo(1,k)):l.isEven()||l.subTo(a,l),l.rShiftTo(1,l);0<=g.compareTo(d)?(g.subTo(d,g),c&&f.subTo(k,f),h.subTo(l,h)):(d.subTo(g,d),c&&k.subTo(f,k),l.subTo(h,l))}return 0!=d.compareTo(b.ONE)?
b.ZERO:0<=l.compareTo(a)?l.subtract(a):0>l.signum()?(l.addTo(a,l),0>l.signum()?l.add(a):l):l},b.prototype.pow=function(a){return this.exp(a,new Q)},b.prototype.gcd=function(a){var c=0>this.s?this.negate():this.clone();a=0>a.s?a.negate():a.clone();if(0>c.compareTo(a)){var g=c;c=a;a=g}g=c.getLowestSetBit();var b=a.getLowestSetBit();if(0>b)return c;g<b&&(b=g);for(0<b&&(c.rShiftTo(b,c),a.rShiftTo(b,a));0<c.signum();)0<(g=c.getLowestSetBit())&&c.rShiftTo(g,c),0<(g=a.getLowestSetBit())&&a.rShiftTo(g,a),
0<=c.compareTo(a)?(c.subTo(a,c),c.rShiftTo(1,c)):(a.subTo(c,a),a.rShiftTo(1,a));return 0<b&&a.lShiftTo(b,a),a},b.prototype.isProbablePrime=function(a){var c,g=this.abs();if(1==g.t&&g[0]<=F[F.length-1]){for(c=0;c<F.length;++c)if(g[0]==F[c])return!0;return!1}if(g.isEven())return!1;for(c=1;c<F.length;){for(var b=F[c],d=c+1;d<F.length&&b<P;)b*=F[d++];for(b=g.modInt(b);c<d;)if(0==b%F[c++])return!1}return g.millerRabin(a)},b.prototype.copyTo=function(a){for(var c=this.t-1;0<=c;--c)a[c]=this[c];a.t=this.t;
a.s=this.s},b.prototype.fromInt=function(a){this.t=1;this.s=0>a?-1:0;0<a?this[0]=a:-1>a?this[0]=a+this.DV:this.t=0},b.prototype.fromString=function(a,c){if(16==c)c=4;else if(8==c)c=3;else if(256==c)c=8;else if(2==c)c=1;else if(32==c)c=5;else{if(4!=c)return void this.fromRadix(a,c);c=2}this.s=this.t=0;for(var g=a.length,d=!1,f=0;0<=--g;){var h=8==c?255&+a[g]:I(a,g);0>h?"-"==a.charAt(g)&&(d=!0):(d=!1,0==f?this[this.t++]=h:f+c>this.DB?(this[this.t-1]|=(h&(1<<this.DB-f)-1)<<f,this[this.t++]=h>>this.DB-
f):this[this.t-1]|=h<<f,(f+=c)>=this.DB&&(f-=this.DB))}8==c&&0!=(128&+a[0])&&(this.s=-1,0<f&&(this[this.t-1]|=(1<<this.DB-f)-1<<f));this.clamp();d&&b.ZERO.subTo(this,this)},b.prototype.clamp=function(){for(var a=this.s&this.DM;0<this.t&&this[this.t-1]==a;)--this.t},b.prototype.dlShiftTo=function(a,c){var g;for(g=this.t-1;0<=g;--g)c[g+a]=this[g];for(g=a-1;0<=g;--g)c[g]=0;c.t=this.t+a;c.s=this.s},b.prototype.drShiftTo=function(a,c){for(var g=a;g<this.t;++g)c[g-a]=this[g];c.t=Math.max(this.t-a,0);c.s=
this.s},b.prototype.lShiftTo=function(a,c){var g=a%this.DB,b=this.DB-g,d=(1<<b)-1;a=Math.floor(a/this.DB);for(var f=this.s<<g&this.DM,h=this.t-1;0<=h;--h)c[h+a+1]=this[h]>>b|f,f=(this[h]&d)<<g;for(h=a-1;0<=h;--h)c[h]=0;c[a]=f;c.t=this.t+a+1;c.s=this.s;c.clamp()},b.prototype.rShiftTo=function(a,c){c.s=this.s;var g=Math.floor(a/this.DB);if(g>=this.t)c.t=0;else{a%=this.DB;var b=this.DB-a,d=(1<<a)-1;c[0]=this[g]>>a;for(var f=g+1;f<this.t;++f)c[f-g-1]|=(this[f]&d)<<b,c[f-g]=this[f]>>a;0<a&&(c[this.t-g-
1]|=(this.s&d)<<b);c.t=this.t-g;c.clamp()}},b.prototype.subTo=function(a,c){for(var g=0,b=0,d=Math.min(a.t,this.t);g<d;)b+=this[g]-a[g],c[g++]=b&this.DM,b>>=this.DB;if(a.t<this.t){for(b-=a.s;g<this.t;)b+=this[g],c[g++]=b&this.DM,b>>=this.DB;b+=this.s}else{for(b+=this.s;g<a.t;)b-=a[g],c[g++]=b&this.DM,b>>=this.DB;b-=a.s}c.s=0>b?-1:0;-1>b?c[g++]=this.DV+b:0<b&&(c[g++]=b);c.t=g;c.clamp()},b.prototype.multiplyTo=function(a,c){var g=this.abs(),d=a.abs(),f=g.t;for(c.t=f+d.t;0<=--f;)c[f]=0;for(f=0;f<d.t;++f)c[f+
g.t]=g.am(0,d[f],c,f,0,g.t);c.s=0;c.clamp();this.s!=a.s&&b.ZERO.subTo(c,c)},b.prototype.squareTo=function(a){for(var c=this.abs(),b=a.t=2*c.t;0<=--b;)a[b]=0;for(b=0;b<c.t-1;++b){var d=c.am(b,c[b],a,2*b,0,1);(a[b+c.t]+=c.am(b+1,2*c[b],a,2*b+1,d,c.t-b-1))>=c.DV&&(a[b+c.t]-=c.DV,a[b+c.t+1]=1)}0<a.t&&(a[a.t-1]+=c.am(b,c[b],a,2*b,0,1));a.s=0;a.clamp()},b.prototype.divRemTo=function(a,c,g){var d=a.abs();if(!(0>=d.t)){var h=this.abs();if(h.t<d.t)return null!=c&&c.fromInt(0),void(null!=g&&this.copyTo(g));
null==g&&(g=t());var k=t(),l=this.s;a=a.s;var m=this.DB-f(d[d.t-1]);0<m?(d.lShiftTo(m,k),h.lShiftTo(m,g)):(d.copyTo(k),h.copyTo(g));d=k.t;h=k[d-1];if(0!=h){var n=h*(1<<this.F1)+(1<d?k[d-2]>>this.F2:0),p=this.FV/n;n=(1<<this.F1)/n;var q=1<<this.F2,r=g.t,u=r-d,v=null==c?t():c;k.dlShiftTo(u,v);0<=g.compareTo(v)&&(g[g.t++]=1,g.subTo(v,g));b.ONE.dlShiftTo(d,v);for(v.subTo(k,k);k.t<d;)k[k.t++]=0;for(;0<=--u;){var w=g[--r]==h?this.DM:Math.floor(g[r]*p+(g[r-1]+q)*n);if((g[r]+=k.am(0,w,g,u,0,d))<w)for(k.dlShiftTo(u,
v),g.subTo(v,g);g[r]<--w;)g.subTo(v,g)}null!=c&&(g.drShiftTo(d,c),l!=a&&b.ZERO.subTo(c,c));g.t=d;g.clamp();0<m&&g.rShiftTo(m,g);0>l&&b.ZERO.subTo(g,g)}}},b.prototype.invDigit=function(){if(1>this.t)return 0;var a=this[0];if(0==(1&a))return 0;var c=3&a;return 0<(c=(c=(c=(c=c*(2-(15&a)*c)&15)*(2-(255&a)*c)&255)*(2-((65535&a)*c&65535))&65535)*(2-a*c%this.DV)%this.DV)?this.DV-c:-c},b.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},b.prototype.exp=function(a,c){if(4294967295<a||1>a)return b.ONE;
var g=t(),d=t(),h=c.convert(this),k=f(a)-1;for(h.copyTo(g);0<=--k;)if(c.sqrTo(g,d),0<(a&1<<k))c.mulTo(d,h,g);else{var l=g;g=d;d=l}return c.revert(g)},b.prototype.chunkSize=function(a){return Math.floor(Math.LN2*this.DB/Math.log(a))},b.prototype.toRadix=function(a){if(null==a&&(a=10),0==this.signum()||2>a||36<a)return"0";var c=this.chunkSize(a);c=Math.pow(a,c);var b=B(c),d=t(),f=t(),h="";for(this.divRemTo(b,d,f);0<d.signum();)h=(c+f.intValue()).toString(a).substr(1)+h,d.divRemTo(b,d,f);return f.intValue().toString(a)+
h},b.prototype.fromRadix=function(a,c){this.fromInt(0);null==c&&(c=10);for(var g=this.chunkSize(c),d=Math.pow(c,g),f=!1,h=0,k=0,l=0;l<a.length;++l){var m=I(a,l);0>m?"-"==a.charAt(l)&&0==this.signum()&&(f=!0):(k=c*k+m,++h>=g&&(this.dMultiply(d),this.dAddOffset(k,0),k=h=0))}0<h&&(this.dMultiply(Math.pow(c,h)),this.dAddOffset(k,0));f&&b.ZERO.subTo(this,this)},b.prototype.fromNumber=function(a,c,g){if("number"==typeof c)if(2>a)this.fromInt(1);else for(this.fromNumber(a,g),this.testBit(a-1)||this.bitwiseTo(b.ONE.shiftLeft(a-
1),p,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(c);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(b.ONE.shiftLeft(a-1),this);else{g=[];var d=7&a;g.length=1+(a>>3);c.nextBytes(g);0<d?g[0]&=(1<<d)-1:g[0]=0;this.fromString(g,256)}},b.prototype.bitwiseTo=function(a,c,b){var g,d=Math.min(a.t,this.t);for(g=0;g<d;++g)b[g]=c(this[g],a[g]);if(a.t<this.t){var f=a.s&this.DM;for(g=d;g<this.t;++g)b[g]=c(this[g],f);b.t=this.t}else{f=this.s&this.DM;for(g=d;g<a.t;++g)b[g]=c(f,a[g]);b.t=
a.t}b.s=c(this.s,a.s);b.clamp()},b.prototype.changeBit=function(a,c){a=b.ONE.shiftLeft(a);return this.bitwiseTo(a,c,a),a},b.prototype.addTo=function(a,c){for(var b=0,d=0,f=Math.min(a.t,this.t);b<f;)d+=this[b]+a[b],c[b++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;b<this.t;)d+=this[b],c[b++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;b<a.t;)d+=a[b],c[b++]=d&this.DM,d>>=this.DB;d+=a.s}c.s=0>d?-1:0;0<d?c[b++]=d:-1>d&&(c[b++]=this.DV+d);c.t=b;c.clamp()},b.prototype.dMultiply=function(a){this[this.t]=
this.am(0,a-1,this,0,0,this.t);++this.t;this.clamp()},b.prototype.dAddOffset=function(a,c){if(0!=a){for(;this.t<=c;)this[this.t++]=0;for(this[c]+=a;this[c]>=this.DV;)this[c]-=this.DV,++c>=this.t&&(this[this.t++]=0),++this[c]}},b.prototype.multiplyLowerTo=function(a,c,b){var g=Math.min(this.t+a.t,c);b.s=0;for(b.t=g;0<g;)b[--g]=0;for(var d=b.t-this.t;g<d;++g)b[g+this.t]=this.am(0,a[g],b,g,0,this.t);for(d=Math.min(a.t,c);g<d;++g)this.am(0,a[g],b,g,0,c-g);b.clamp()},b.prototype.multiplyUpperTo=function(a,
c,b){--c;var g=b.t=this.t+a.t-c;for(b.s=0;0<=--g;)b[g]=0;for(g=Math.max(c-this.t,0);g<a.t;++g)b[this.t+g-c]=this.am(c-g,a[g],b,0,0,this.t+g-c);b.clamp();b.drShiftTo(1,b)},b.prototype.modInt=function(a){if(0>=a)return 0;var c=this.DV%a,b=0>this.s?a-1:0;if(0<this.t)if(0==c)b=this[0]%a;else for(var d=this.t-1;0<=d;--d)b=(c*b+this[d])%a;return b},b.prototype.millerRabin=function(a){var c=this.subtract(b.ONE),g=c.getLowestSetBit();if(0>=g)return!1;var d=c.shiftRight(g);F.length<(a=a+1>>1)&&(a=F.length);
for(var f=t(),h=0;h<a;++h){f.fromInt(F[Math.floor(Math.random()*F.length)]);var k=f.modPow(d,this);if(0!=k.compareTo(b.ONE)&&0!=k.compareTo(c)){for(var l=1;l++<g&&0!=k.compareTo(c);)if(0==(k=k.modPowInt(2,this)).compareTo(b.ONE))return!1;if(0!=k.compareTo(c))return!1}}return!0},b.prototype.square=function(){var a=t();return this.squareTo(a),a},b.prototype.gcda=function(a,c){var b=0>this.s?this.negate():this.clone(),d=0>a.s?a.negate():a.clone();0>b.compareTo(d)&&(a=b,b=d,d=a);var f=b.getLowestSetBit(),
h=d.getLowestSetBit();if(0>h)c(b);else{f<h&&(h=f);0<h&&(b.rShiftTo(h,b),d.rShiftTo(h,d));var k=function(){0<(f=b.getLowestSetBit())&&b.rShiftTo(f,b);0<(f=d.getLowestSetBit())&&d.rShiftTo(f,d);0<=b.compareTo(d)?(b.subTo(d,b),b.rShiftTo(1,b)):(d.subTo(b,d),d.rShiftTo(1,d));0<b.signum()?setTimeout(k,0):(0<h&&d.lShiftTo(h,d),setTimeout(function(){c(d)},0))};setTimeout(k,10)}},b.prototype.fromNumberAsync=function(a,c,g,d){if("number"==typeof c)if(2>a)this.fromInt(1);else{this.fromNumber(a,g);this.testBit(a-
1)||this.bitwiseTo(b.ONE.shiftLeft(a-1),p,this);this.isEven()&&this.dAddOffset(1,0);var f=this,h=function(){f.dAddOffset(2,0);f.bitLength()>a&&f.subTo(b.ONE.shiftLeft(a-1),f);f.isProbablePrime(c)?setTimeout(function(){d()},0):setTimeout(h,0)};setTimeout(h,0)}else{g=[];var k=7&a;g.length=1+(a>>3);c.nextBytes(g);0<k?g[0]&=(1<<k)-1:g[0]=0;this.fromString(g,256)}},b}(),Q=function(){function b(){}return b.prototype.convert=function(a){return a},b.prototype.revert=function(a){return a},b.prototype.mulTo=
function(a,c,b){a.multiplyTo(c,b)},b.prototype.sqrTo=function(a,c){a.squareTo(c)},b}(),O=function(){function b(a){this.m=a}return b.prototype.convert=function(a){return 0>a.s||0<=a.compareTo(this.m)?a.mod(this.m):a},b.prototype.revert=function(a){return a},b.prototype.reduce=function(a){a.divRemTo(this.m,null,a)},b.prototype.mulTo=function(a,c,b){a.multiplyTo(c,b);this.reduce(b)},b.prototype.sqrTo=function(a,c){a.squareTo(c);this.reduce(c)},b}(),u=function(){function b(a){this.m=a;this.mp=a.invDigit();
this.mpl=32767&this.mp;this.mph=this.mp>>15;this.um=(1<<a.DB-15)-1;this.mt2=2*a.t}return b.prototype.convert=function(a){var c=t();return a.abs().dlShiftTo(this.m.t,c),c.divRemTo(this.m,null,c),0>a.s&&0<c.compareTo(z.ZERO)&&this.m.subTo(c,c),c},b.prototype.revert=function(a){var c=t();return a.copyTo(c),this.reduce(c),c},b.prototype.reduce=function(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var c=0;c<this.m.t;++c){var b=32767&a[c],d=b*this.mpl+((b*this.mph+(a[c]>>15)*this.mpl&this.um)<<15)&a.DM;for(a[b=
c+this.m.t]+=this.m.am(0,d,a,c,0,this.m.t);a[b]>=a.DV;)a[b]-=a.DV,a[++b]++}a.clamp();a.drShiftTo(this.m.t,a);0<=a.compareTo(this.m)&&a.subTo(this.m,a)},b.prototype.mulTo=function(a,c,b){a.multiplyTo(c,b);this.reduce(b)},b.prototype.sqrTo=function(a,c){a.squareTo(c);this.reduce(c)},b}(),r=function(){function b(a){this.m=a;this.r2=t();this.q3=t();z.ONE.dlShiftTo(2*a.t,this.r2);this.mu=this.r2.divide(a)}return b.prototype.convert=function(a){if(0>a.s||a.t>2*this.m.t)return a.mod(this.m);if(0>a.compareTo(this.m))return a;
var c=t();return a.copyTo(c),this.reduce(c),c},b.prototype.revert=function(a){return a},b.prototype.reduce=function(a){a.drShiftTo(this.m.t-1,this.r2);a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>a.compareTo(this.r2);)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);0<=a.compareTo(this.m);)a.subTo(this.m,a)},b.prototype.mulTo=function(a,c,b){a.multiplyTo(c,b);this.reduce(b)},b.prototype.sqrTo=
function(a,c){a.squareTo(c);this.reduce(c)},b}();"Microsoft Internet Explorer"==navigator.appName?(z.prototype.am=function(b,a,c,d,f,h){var g=32767&a;for(a>>=15;0<=--h;){var k=32767&this[b],l=this[b++]>>15,m=a*k+l*g;f=((k=g*k+((32767&m)<<15)+c[d]+(1073741823&f))>>>30)+(m>>>15)+a*l+(f>>>30);c[d++]=1073741823&k}return f},E=30):"Netscape"!=navigator.appName?(z.prototype.am=function(b,a,c,d,f,h){for(;0<=--h;){var g=a*this[b++]+c[d]+f;f=Math.floor(g/67108864);c[d++]=67108863&g}return f},E=26):(z.prototype.am=
function(b,a,c,d,f,h){var g=16383&a;for(a>>=14;0<=--h;){var k=16383&this[b],l=this[b++]>>14,m=a*k+l*g;f=((k=g*k+((16383&m)<<14)+c[d]+f)>>28)+(m>>14)+a*l;c[d++]=268435455&k}return f},E=28);z.prototype.DB=E;z.prototype.DM=(1<<E)-1;z.prototype.DV=1<<E;z.prototype.FV=Math.pow(2,52);z.prototype.F1=52-E;z.prototype.F2=2*E-52;var l,S=[];E=48;for(l=0;9>=l;++l)S[E++]=l;E=97;for(l=10;36>l;++l)S[E++]=l;E=65;for(l=10;36>l;++l)S[E++]=l;z.ZERO=B(0);z.ONE=B(1);var Z=function(){function b(){this.j=this.i=0;this.S=
[]}return b.prototype.init=function(a){var c,b;for(c=0;256>c;++c)this.S[c]=c;for(c=b=0;256>c;++c){b=b+this.S[c]+a[c%a.length]&255;var d=this.S[c];this.S[c]=this.S[b];this.S[b]=d}this.j=this.i=0},b.prototype.next=function(){var a;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,a=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=a,this.S[a+this.S[this.i]&255]},b}(),T,L,M=null;if(null==M){M=[];E=void(L=0);if(window.crypto&&window.crypto.getRandomValues)for(l=new Uint32Array(256),
window.crypto.getRandomValues(l),E=0;E<l.length;++E)M[L++]=255&l[E];var U=function(b){if(this.count=this.count||0,256<=this.count||256<=L)window.removeEventListener?window.removeEventListener("mousemove",U,!1):window.detachEvent&&window.detachEvent("onmousemove",U);else try{var a=b.x+b.y;M[L++]=255&a;this.count+=1}catch(c){}};window.addEventListener?window.addEventListener("mousemove",U,!1):window.attachEvent&&window.attachEvent("onmousemove",U)}var X=function(){function b(){}return b.prototype.nextBytes=
function(a){for(var c=0;c<a.length;++c){var b=c;if(null==T){for(T=new Z;256>L;){var d=Math.floor(65536*Math.random());M[L++]=255&d}T.init(M);for(L=0;L<M.length;++L)M[L]=0;L=0}d=T.next();a[b]=d}},b}();E=function(){function b(){this.n=null;this.e=0;this.coeff=this.dmq1=this.dmp1=this.q=this.p=this.d=null}return b.prototype.doPublic=function(a){return a.modPowInt(this.e,this.n)},b.prototype.doPrivate=function(a){if(null==this.p||null==this.q)return a.modPow(this.d,this.n);var c=a.mod(this.p).modPow(this.dmp1,
this.p);for(a=a.mod(this.q).modPow(this.dmq1,this.q);0>c.compareTo(a);)c=c.add(this.p);return c.subtract(a).multiply(this.coeff).mod(this.p).multiply(this.q).add(a)},b.prototype.setPublic=function(a,c){null!=a&&null!=c&&0<a.length&&0<c.length?(this.n=h(a,16),this.e=parseInt(c,16)):console.error("Invalid RSA public key")},b.prototype.encrypt=function(a){var c=this.n.bitLength()+7>>3;if(c<a.length+11)c=(console.error("Message too long for RSA"),null);else{for(var b=[],d=a.length-1;0<=d&&0<c;){var f=
a.charCodeAt(d--);128>f?b[--c]=f:127<f&&2048>f?(b[--c]=63&f|128,b[--c]=f>>6|192):(b[--c]=63&f|128,b[--c]=f>>6&63|128,b[--c]=f>>12|224)}b[--c]=0;a=new X;for(d=[];2<c;){for(d[0]=0;0==d[0];)a.nextBytes(d);b[--c]=d[0]}c=(b[--c]=2,b[--c]=0,new z(b))}if(null==c)return null;c=this.doPublic(c);if(null==c)return null;c=c.toString(16);return 0==(1&c.length)?c:"0"+c},b.prototype.setPrivate=function(a,c,b){null!=a&&null!=c&&0<a.length&&0<c.length?(this.n=h(a,16),this.e=parseInt(c,16),this.d=h(b,16)):console.error("Invalid RSA private key")},
b.prototype.setPrivateEx=function(a,c,b,d,f,k,l,m){null!=a&&null!=c&&0<a.length&&0<c.length?(this.n=h(a,16),this.e=parseInt(c,16),this.d=h(b,16),this.p=h(d,16),this.q=h(f,16),this.dmp1=h(k,16),this.dmq1=h(l,16),this.coeff=h(m,16)):console.error("Invalid RSA private key")},b.prototype.generate=function(a,c){var b=new X,d=a>>1;this.e=parseInt(c,16);for(c=new z(c,16);;){for(;this.p=new z(a-d,1,b),0!=this.p.subtract(z.ONE).gcd(c).compareTo(z.ONE)||!this.p.isProbablePrime(10););for(;this.q=new z(d,1,b),
0!=this.q.subtract(z.ONE).gcd(c).compareTo(z.ONE)||!this.q.isProbablePrime(10););if(0>=this.p.compareTo(this.q)){var f=this.p;this.p=this.q;this.q=f}f=this.p.subtract(z.ONE);var h=this.q.subtract(z.ONE),k=f.multiply(h);if(0==k.gcd(c).compareTo(z.ONE)){this.n=this.p.multiply(this.q);this.d=c.modInverse(k);this.dmp1=this.d.mod(f);this.dmq1=this.d.mod(h);this.coeff=this.q.modInverse(this.p);break}}},b.prototype.decrypt=function(a){a=h(a,16);a=this.doPrivate(a);if(null==a)a=null;else a:{var c=this.n.bitLength()+
7>>3;a=a.toByteArray();for(var b=0;b<a.length&&0==a[b];)++b;if(a.length-b!=c-1||2!=a[b])a=null;else{for(++b;0!=a[b];)if(++b>=a.length){a=null;break a}for(c="";++b<a.length;){var d=255&a[b];128>d?c+=String.fromCharCode(d):191<d&&224>d?(c+=String.fromCharCode((31&d)<<6|63&a[b+1]),++b):(c+=String.fromCharCode((15&d)<<12|(63&a[b+1])<<6|63&a[b+2]),b+=2)}a=c}}return a},b.prototype.generateAsync=function(a,c,b){var d=new X,g=a>>1;this.e=parseInt(c,16);var f=new z(c,16),h=this,k=function(){var c=function(){if(0>=
h.p.compareTo(h.q)){var a=h.p;h.p=h.q;h.q=a}a=h.p.subtract(z.ONE);var c=h.q.subtract(z.ONE),d=a.multiply(c);0==d.gcd(f).compareTo(z.ONE)?(h.n=h.p.multiply(h.q),h.d=f.modInverse(d),h.dmp1=h.d.mod(a),h.dmq1=h.d.mod(c),h.coeff=h.q.modInverse(h.p),setTimeout(function(){b()},0)):setTimeout(k,0)},l=function(){h.q=t();h.q.fromNumberAsync(g,1,d,function(){h.q.subtract(z.ONE).gcda(f,function(a){0==a.compareTo(z.ONE)&&h.q.isProbablePrime(10)?setTimeout(c,0):setTimeout(l,0)})})},m=function(){h.p=t();h.p.fromNumberAsync(a-
g,1,d,function(){h.p.subtract(z.ONE).gcda(f,function(a){0==a.compareTo(z.ONE)&&h.p.isProbablePrime(10)?setTimeout(l,0):setTimeout(m,0)})})};setTimeout(m,0)};setTimeout(k,0)},b.prototype.sign=function(a,c,b){a=(V[b]||"")+c(a).toString();c=this.n.bitLength()/4;if(c<a.length+22)a=(console.error("Message too long for RSA"),null);else{c=c-a.length-6;b="";for(var d=0;d<c;d+=2)b+="ff";a=h("0001"+b+"00"+a,16)}if(null==a)return null;a=this.doPrivate(a);if(null==a)return null;a=a.toString(16);return 0==(1&
a.length)?a:"0"+a},b.prototype.verify=function(a,c,b){c=h(c,16);c=this.doPublic(c);if(null==c)a=null;else{a:{c=c.toString(16).replace(/^1f+00/,"");for(f in V)if(V.hasOwnProperty(f)){var d=V[f],g=d.length;if(c.substr(0,g)==d){var f=c.substr(g);break a}}f=c}a=f==b(a).toString()}return a},b}();var V={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",
sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};l={extend:function(b,a,c){if(!a||!b)throw Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var d=function(){};if(d.prototype=a.prototype,b.prototype=new d,(b.prototype.constructor=b).superclass=a.prototype,a.prototype.constructor==Object.prototype.constructor&&(a.prototype.constructor=a),c){for(var f in c)b.prototype[f]=c[f];
a=function(){};var h=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(a=function(a,c){for(f=0;f<h.length;f+=1){var b=h[f],d=c[b];"function"==typeof d&&d!=Object.prototype[b]&&(a[b]=d)}})}catch(ba){}a(b.prototype,c)}}};var n={};void 0!==n.asn1&&n.asn1||(n.asn1={});n.asn1.ASN1Util=new function(){this.integerToByteHex=function(b){b=b.toString(16);return 1==b.length%2&&(b="0"+b),b};this.bigIntToMinTwosComplementsHex=function(b){var a=b.toString(16);if("-"!=a.substr(0,1))1==a.length%2?a="0"+
a:a.match(/^[0-7]/)||(a="00"+a);else{var c=a.substr(1).length;1==c%2?c+=1:a.match(/^[0-7]/)||(c+=2);a="";for(var d=0;d<c;d++)a+="f";a=(new z(a,16)).xor(b).add(z.ONE).toString(16).replace(/^-/,"")}return a};this.getPEMStringFromHex=function(b,a){return hextopem(b,a)};this.newObject=function(b){var a=n.asn1,c=a.DERBoolean,d=a.DERInteger,f=a.DERBitString,h=a.DEROctetString,k=a.DERNull,l=a.DERObjectIdentifier,m=a.DEREnumerated,p=a.DERUTF8String,q=a.DERNumericString,r=a.DERPrintableString,t=a.DERTeletexString,
u=a.DERIA5String,v=a.DERUTCTime,w=a.DERGeneralizedTime,y=a.DERSequence,A=a.DERSet,z=a.DERTaggedObject;a=a.ASN1Util.newObject;var x=Object.keys(b);if(1!=x.length)throw"key of param shall be only one.";x=x[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+x+":"))throw"undefined key: "+x;if("bool"==x)return new c(b[x]);if("int"==x)return new d(b[x]);if("bitstr"==x)return new f(b[x]);if("octstr"==x)return new h(b[x]);if("null"==
x)return new k(b[x]);if("oid"==x)return new l(b[x]);if("enum"==x)return new m(b[x]);if("utf8str"==x)return new p(b[x]);if("numstr"==x)return new q(b[x]);if("prnstr"==x)return new r(b[x]);if("telstr"==x)return new t(b[x]);if("ia5str"==x)return new u(b[x]);if("utctime"==x)return new v(b[x]);if("gentime"==x)return new w(b[x]);if("seq"==x){z=b[x];b=[];for(c=0;c<z.length;c++)d=a(z[c]),b.push(d);return new y({array:b})}if("set"==x){z=b[x];b=[];for(c=0;c<z.length;c++)d=a(z[c]),b.push(d);return new A({array:b})}if("tag"==
x){y=b[x];if("[object Array]"===Object.prototype.toString.call(y)&&3==y.length)return a=a(y[2]),new z({tag:y[0],explicit:y[1],obj:a});A={};if(void 0!==y.explicit&&(A.explicit=y.explicit),void 0!==y.tag&&(A.tag=y.tag),void 0===y.obj)throw"obj shall be specified for 'tag'.";return A.obj=a(y.obj),new z(A)}};this.jsonToASN1HEX=function(b){return this.newObject(b).getEncodedHex()}};n.asn1.ASN1Util.oidHexToInt=function(b){var a=parseInt(b.substr(0,2),16);for(var c=(a=Math.floor(a/40)+"."+a%40,""),d=2;d<
b.length;d+=2){var f=("00000000"+parseInt(b.substr(d,2),16).toString(2)).slice(-8);if(c+=f.substr(1,7),"0"==f.substr(0,1))a=a+"."+(new z(c,2)).toString(10),c=""}return a};n.asn1.ASN1Util.oidIntToHex=function(b){var a=function(a){a=a.toString(16);return 1==a.length&&(a="0"+a),a},c=function(c){var b="";c=(new z(c,10)).toString(2);var d=7-c.length%7;7==d&&(d=0);for(var f="",g=0;g<d;g++)f+="0";c=f+c;for(g=0;g<c.length-1;g+=7)d=c.substr(g,7),g!=c.length-7&&(d="1"+d),b+=a(parseInt(d,2));return b};if(!b.match(/^[0-9.]+$/))throw"malformed oid string: "+
b;var d="";b=b.split(".");var f=40*parseInt(b[0])+parseInt(b[1]);d+=a(f);b.splice(0,2);for(f=0;f<b.length;f++)d+=c(b[f]);return d};n.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(1==this.hV.length%2)throw"value hex must be even length: n=0,v="+this.hV;var b=this.hV.length/2,a=b.toString(16);if(1==a.length%2&&(a="0"+a),128>b)return a;var c=a.length/2;if(15<c)throw"ASN.1 length too long to represent by 8x: n = "+
b.toString(16);return(128+c).toString(16)+a};this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV};this.getValueHex=function(){return this.getEncodedHex(),this.hV};this.getFreshValueHex=function(){return""}};n.asn1.DERAbstractString=function(b){n.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s};this.setString=
function(a){this.hTLV=null;this.isModified=!0;this.s=a;this.hV=stohex(this.s)};this.setStringHex=function(a){this.hTLV=null;this.isModified=!0;this.s=null;this.hV=a};this.getFreshValueHex=function(){return this.hV};void 0!==b&&("string"==typeof b?this.setString(b):void 0!==b.str?this.setString(b.str):void 0!==b.hex&&this.setStringHex(b.hex))};l.extend(n.asn1.DERAbstractString,n.asn1.ASN1Object);n.asn1.DERAbstractTime=function(b){n.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=
function(a){return utc=a.getTime()+6E4*a.getTimezoneOffset(),new Date(utc)};this.formatDate=function(a,c,b){var d=this.zeroPadding;a=this.localDateToUTC(a);var f=String(a.getFullYear());"utc"==c&&(f=f.substr(2,2));c=f+d(String(a.getMonth()+1),2)+d(String(a.getDate()),2)+d(String(a.getHours()),2)+d(String(a.getMinutes()),2)+d(String(a.getSeconds()),2);!0===b&&(b=a.getMilliseconds(),0!=b&&(d=d(String(b),3),c=c+"."+d.replace(/[0]+$/,"")));return c+"Z"};this.zeroPadding=function(a,c){return a.length>=
c?a:Array(c-a.length+1).join("0")+a};this.getString=function(){return this.s};this.setString=function(a){this.hTLV=null;this.isModified=!0;this.s=a;this.hV=stohex(a)};this.setByDateValue=function(a,c,b,d,f,h){a=new Date(Date.UTC(a,c-1,b,d,f,h,0));this.setByDate(a)};this.getFreshValueHex=function(){return this.hV}};l.extend(n.asn1.DERAbstractTime,n.asn1.ASN1Object);n.asn1.DERAbstractStructured=function(b){n.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(a){this.hTLV=
null;this.isModified=!0;this.asn1Array=a};this.appendASN1Object=function(a){this.hTLV=null;this.isModified=!0;this.asn1Array.push(a)};this.asn1Array=[];void 0!==b&&void 0!==b.array&&(this.asn1Array=b.array)};l.extend(n.asn1.DERAbstractStructured,n.asn1.ASN1Object);n.asn1.DERBoolean=function(){n.asn1.DERBoolean.superclass.constructor.call(this);this.hT="01";this.hTLV="0101ff"};l.extend(n.asn1.DERBoolean,n.asn1.ASN1Object);n.asn1.DERInteger=function(b){n.asn1.DERInteger.superclass.constructor.call(this);
this.hT="02";this.setByBigInteger=function(a){this.hTLV=null;this.isModified=!0;this.hV=n.asn1.ASN1Util.bigIntToMinTwosComplementsHex(a)};this.setByInteger=function(a){a=new z(String(a),10);this.setByBigInteger(a)};this.setValueHex=function(a){this.hV=a};this.getFreshValueHex=function(){return this.hV};void 0!==b&&(void 0!==b.bigint?this.setByBigInteger(b.bigint):void 0!==b.int?this.setByInteger(b.int):"number"==typeof b?this.setByInteger(b):void 0!==b.hex&&this.setValueHex(b.hex))};l.extend(n.asn1.DERInteger,
n.asn1.ASN1Object);n.asn1.DERBitString=function(b){if(void 0!==b&&void 0!==b.obj){var a=n.asn1.ASN1Util.newObject(b.obj);b.hex="00"+a.getEncodedHex()}n.asn1.DERBitString.superclass.constructor.call(this);this.hT="03";this.setHexValueIncludingUnusedBits=function(a){this.hTLV=null;this.isModified=!0;this.hV=a};this.setUnusedBitsAndHexValue=function(a,b){if(0>a||7<a)throw"unused bits shall be from 0 to 7: u = "+a;this.hTLV=null;this.isModified=!0;this.hV="0"+a+b};this.setByBinaryString=function(a){var c=
8-(a=a.replace(/0+$/,"")).length%8;8==c&&(c=0);for(var b=0;b<=c;b++)a+="0";var d="";for(b=0;b<a.length-1;b+=8){var f=a.substr(b,8);f=parseInt(f,2).toString(16);1==f.length&&(f="0"+f);d+=f}this.hTLV=null;this.isModified=!0;this.hV="0"+c+d};this.setByBooleanArray=function(a){for(var c="",b=0;b<a.length;b++)1==a[b]?c+="1":c+="0";this.setByBinaryString(c)};this.newFalseArray=function(a){for(var c=Array(a),b=0;b<a;b++)c[b]=!1;return c};this.getFreshValueHex=function(){return this.hV};void 0!==b&&("string"==
typeof b&&b.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(b):void 0!==b.hex?this.setHexValueIncludingUnusedBits(b.hex):void 0!==b.bin?this.setByBinaryString(b.bin):void 0!==b.array&&this.setByBooleanArray(b.array))};l.extend(n.asn1.DERBitString,n.asn1.ASN1Object);n.asn1.DEROctetString=function(b){if(void 0!==b&&void 0!==b.obj){var a=n.asn1.ASN1Util.newObject(b.obj);b.hex=a.getEncodedHex()}n.asn1.DEROctetString.superclass.constructor.call(this,b);this.hT="04"};l.extend(n.asn1.DEROctetString,
n.asn1.DERAbstractString);n.asn1.DERNull=function(){n.asn1.DERNull.superclass.constructor.call(this);this.hT="05";this.hTLV="0500"};l.extend(n.asn1.DERNull,n.asn1.ASN1Object);n.asn1.DERObjectIdentifier=function(b){var a=function(a){a=a.toString(16);return 1==a.length&&(a="0"+a),a};n.asn1.DERObjectIdentifier.superclass.constructor.call(this);this.hT="06";this.setValueHex=function(a){this.hTLV=null;this.isModified=!0;this.s=null;this.hV=a};this.setValueOidString=function(c){if(!c.match(/^[0-9.]+$/))throw"malformed oid string: "+
c;var b="";c=c.split(".");var d=40*parseInt(c[0])+parseInt(c[1]);b+=a(d);c.splice(0,2);for(d=0;d<c.length;d++){var f="",h=(new z(c[d],10)).toString(2),k=7-h.length%7;7==k&&(k=0);for(var l="",m=0;m<k;m++)l+="0";h=l+h;for(m=0;m<h.length-1;m+=7)k=h.substr(m,7),m!=h.length-7&&(k="1"+k),f+=a(parseInt(k,2));b+=f}this.hTLV=null;this.isModified=!0;this.s=null;this.hV=b};this.setValueName=function(a){var b=n.asn1.x509.OID.name2oid(a);if(""===b)throw"DERObjectIdentifier oidName undefined: "+a;this.setValueOidString(b)};
this.getFreshValueHex=function(){return this.hV};void 0!==b&&("string"==typeof b?b.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(b):this.setValueName(b):void 0!==b.oid?this.setValueOidString(b.oid):void 0!==b.hex?this.setValueHex(b.hex):void 0!==b.name&&this.setValueName(b.name))};l.extend(n.asn1.DERObjectIdentifier,n.asn1.ASN1Object);n.asn1.DEREnumerated=function(b){n.asn1.DEREnumerated.superclass.constructor.call(this);this.hT="0a";this.setByBigInteger=function(a){this.hTLV=null;this.isModified=
!0;this.hV=n.asn1.ASN1Util.bigIntToMinTwosComplementsHex(a)};this.setByInteger=function(a){a=new z(String(a),10);this.setByBigInteger(a)};this.setValueHex=function(a){this.hV=a};this.getFreshValueHex=function(){return this.hV};void 0!==b&&(void 0!==b.int?this.setByInteger(b.int):"number"==typeof b?this.setByInteger(b):void 0!==b.hex&&this.setValueHex(b.hex))};l.extend(n.asn1.DEREnumerated,n.asn1.ASN1Object);n.asn1.DERUTF8String=function(b){n.asn1.DERUTF8String.superclass.constructor.call(this,b);
this.hT="0c"};l.extend(n.asn1.DERUTF8String,n.asn1.DERAbstractString);n.asn1.DERNumericString=function(b){n.asn1.DERNumericString.superclass.constructor.call(this,b);this.hT="12"};l.extend(n.asn1.DERNumericString,n.asn1.DERAbstractString);n.asn1.DERPrintableString=function(b){n.asn1.DERPrintableString.superclass.constructor.call(this,b);this.hT="13"};l.extend(n.asn1.DERPrintableString,n.asn1.DERAbstractString);n.asn1.DERTeletexString=function(b){n.asn1.DERTeletexString.superclass.constructor.call(this,
b);this.hT="14"};l.extend(n.asn1.DERTeletexString,n.asn1.DERAbstractString);n.asn1.DERIA5String=function(b){n.asn1.DERIA5String.superclass.constructor.call(this,b);this.hT="16"};l.extend(n.asn1.DERIA5String,n.asn1.DERAbstractString);n.asn1.DERUTCTime=function(b){n.asn1.DERUTCTime.superclass.constructor.call(this,b);this.hT="17";this.setByDate=function(a){this.hTLV=null;this.isModified=!0;this.date=a;this.s=this.formatDate(this.date,"utc");this.hV=stohex(this.s)};this.getFreshValueHex=function(){return void 0===
this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV};void 0!==b&&(void 0!==b.str?this.setString(b.str):"string"==typeof b&&b.match(/^[0-9]{12}Z$/)?this.setString(b):void 0!==b.hex?this.setStringHex(b.hex):void 0!==b.date&&this.setByDate(b.date))};l.extend(n.asn1.DERUTCTime,n.asn1.DERAbstractTime);n.asn1.DERGeneralizedTime=function(b){n.asn1.DERGeneralizedTime.superclass.constructor.call(this,b);this.hT="18";this.withMillis=!1;this.setByDate=
function(a){this.hTLV=null;this.isModified=!0;this.date=a;this.s=this.formatDate(this.date,"gen",this.withMillis);this.hV=stohex(this.s)};this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV};void 0!==b&&(void 0!==b.str?this.setString(b.str):"string"==typeof b&&b.match(/^[0-9]{14}Z$/)?this.setString(b):void 0!==b.hex?this.setStringHex(b.hex):void 0!==b.date&&this.setByDate(b.date),
!0===b.millis&&(this.withMillis=!0))};l.extend(n.asn1.DERGeneralizedTime,n.asn1.DERAbstractTime);n.asn1.DERSequence=function(b){n.asn1.DERSequence.superclass.constructor.call(this,b);this.hT="30";this.getFreshValueHex=function(){for(var a="",b=0;b<this.asn1Array.length;b++)a+=this.asn1Array[b].getEncodedHex();return this.hV=a,this.hV}};l.extend(n.asn1.DERSequence,n.asn1.DERAbstractStructured);n.asn1.DERSet=function(b){n.asn1.DERSet.superclass.constructor.call(this,b);this.hT="31";this.sortFlag=!0;
this.getFreshValueHex=function(){for(var a=[],b=0;b<this.asn1Array.length;b++)a.push(this.asn1Array[b].getEncodedHex());return 1==this.sortFlag&&a.sort(),this.hV=a.join(""),this.hV};void 0!==b&&void 0!==b.sortflag&&0==b.sortflag&&(this.sortFlag=!1)};l.extend(n.asn1.DERSet,n.asn1.DERAbstractStructured);n.asn1.DERTaggedObject=function(b){n.asn1.DERTaggedObject.superclass.constructor.call(this);this.hT="a0";this.hV="";this.isExplicit=!0;this.asn1Object=null;this.setASN1Object=function(a,b,d){this.hT=
b;this.isExplicit=a;this.asn1Object=d;this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=d.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,b),this.isModified=!1)};this.getFreshValueHex=function(){return this.hV};void 0!==b&&(void 0!==b.tag&&(this.hT=b.tag),void 0!==b.explicit&&(this.isExplicit=b.explicit),void 0!==b.obj&&(this.asn1Object=b.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))};l.extend(n.asn1.DERTaggedObject,
n.asn1.ASN1Object);var Y=function(b){function a(c){var d=b.call(this)||this;return c&&("string"==typeof c?d.parseKey(c):(a.hasPrivateKeyProperty(c)||a.hasPublicKeyProperty(c))&&d.parsePropertiesFrom(c)),d}return function(a,b){function c(){this.constructor=a}H(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}(a,b),a.prototype.parseKey=function(a){try{var b=0,c=0;if(/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(a)){var d;if(void 0===w){var f="0123456789ABCDEF";w={};for(d=0;16>
d;++d)w[f.charAt(d)]=d;f=f.toLowerCase();for(d=10;16>d;++d)w[f.charAt(d)]=d;for(d=0;8>d;++d)w[" \f\n\r\t \u2028\u2029".charAt(d)]=-1}f=[];var k=0,l=0;for(d=0;d<a.length;++d){var m=a.charAt(d);if("="==m)break;if(-1!=(m=w[m])){if(void 0===m)throw Error("Illegal character at offset "+d);k|=m;2<=++l?(f[f.length]=k,l=k=0):k<<=4}}if(l)throw Error("Hex encoding incomplete: 4 bits missing");var n=f}else n=q.unarmor(a);var p=W.decode(n);if(3===p.sub.length&&(p=p.sub[2].sub[0]),9===p.sub.length){b=p.sub[1].getHexStringValue();
this.n=h(b,16);c=p.sub[2].getHexStringValue();this.e=parseInt(c,16);var r=p.sub[3].getHexStringValue();this.d=h(r,16);var t=p.sub[4].getHexStringValue();this.p=h(t,16);var u=p.sub[5].getHexStringValue();this.q=h(u,16);var v=p.sub[6].getHexStringValue();this.dmp1=h(v,16);var x=p.sub[7].getHexStringValue();this.dmq1=h(x,16);var y=p.sub[8].getHexStringValue();this.coeff=h(y,16)}else{if(2!==p.sub.length)return!1;var z=p.sub[1].sub[0];b=z.sub[0].getHexStringValue();this.n=h(b,16);c=z.sub[1].getHexStringValue();
this.e=parseInt(c,16)}return!0}catch(da){return!1}},a.prototype.getPrivateBaseKey=function(){var a={array:[new n.asn1.DERInteger({int:0}),new n.asn1.DERInteger({bigint:this.n}),new n.asn1.DERInteger({int:this.e}),new n.asn1.DERInteger({bigint:this.d}),new n.asn1.DERInteger({bigint:this.p}),new n.asn1.DERInteger({bigint:this.q}),new n.asn1.DERInteger({bigint:this.dmp1}),new n.asn1.DERInteger({bigint:this.dmq1}),new n.asn1.DERInteger({bigint:this.coeff})]};return(new n.asn1.DERSequence(a)).getEncodedHex()},
a.prototype.getPrivateBaseKeyB64=function(){return x(this.getPrivateBaseKey())},a.prototype.getPublicBaseKey=function(){var a=new n.asn1.DERSequence({array:[new n.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new n.asn1.DERNull]}),b=new n.asn1.DERSequence({array:[new n.asn1.DERInteger({bigint:this.n}),new n.asn1.DERInteger({int:this.e})]});b=new n.asn1.DERBitString({hex:"00"+b.getEncodedHex()});return(new n.asn1.DERSequence({array:[a,b]})).getEncodedHex()},a.prototype.getPublicBaseKeyB64=
function(){return x(this.getPublicBaseKey())},a.wordwrap=function(a,b){if(!a)return a;var c="(.{1,"+(b=b||64)+"})( +|$\n?)|(.{1,"+b+"})";return a.match(RegExp(c,"g")).join("\n")},a.prototype.getPrivateKey=function(){var b="-----BEGIN RSA PRIVATE KEY-----\n";return b+=a.wordwrap(this.getPrivateBaseKeyB64())+"\n",b+"-----END RSA PRIVATE KEY-----"},a.prototype.getPublicKey=function(){var b="-----BEGIN PUBLIC KEY-----\n";return b+=a.wordwrap(this.getPublicBaseKeyB64())+"\n",b+"-----END PUBLIC KEY-----"},
a.hasPublicKeyProperty=function(a){return(a=a||{}).hasOwnProperty("n")&&a.hasOwnProperty("e")},a.hasPrivateKeyProperty=function(a){return(a=a||{}).hasOwnProperty("n")&&a.hasOwnProperty("e")&&a.hasOwnProperty("d")&&a.hasOwnProperty("p")&&a.hasOwnProperty("q")&&a.hasOwnProperty("dmp1")&&a.hasOwnProperty("dmq1")&&a.hasOwnProperty("coeff")},a.prototype.parsePropertiesFrom=function(a){this.n=a.n;this.e=a.e;a.hasOwnProperty("d")&&(this.d=a.d,this.p=a.p,this.q=a.q,this.dmp1=a.dmp1,this.dmq1=a.dmq1,this.coeff=
a.coeff)},a}(E);E=function(){function b(a){a=a||{};this.default_key_size=parseInt(a.default_key_size,10)||1024;this.default_public_exponent=a.default_public_exponent||"010001";this.log=a.log||!1;this.key=null}return b.prototype.setKey=function(a){this.log&&this.key&&console.warn("A key was already set, overriding existing.");this.key=new Y(a)},b.prototype.setPrivateKey=function(a){this.setKey(a)},b.prototype.setPublicKey=function(a){this.setKey(a)},b.prototype.decrypt=function(a){try{return this.getKey().decrypt(A(a))}catch(c){return!1}},
b.prototype.encrypt=function(a){try{return x(this.getKey().encrypt(a))}catch(c){return!1}},b.prototype.sign=function(a,b,d){try{return x(this.getKey().sign(a,b,d))}catch(J){return!1}},b.prototype.verify=function(a,b,d){try{return this.getKey().verify(a,A(b),d)}catch(J){return!1}},b.prototype.getKey=function(a){if(!this.key){if(this.key=new Y,a&&"[object Function]"==={}.toString.call(a))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,a);this.key.generate(this.default_key_size,
this.default_public_exponent)}return this.key},b.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},b.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},b.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},b.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},b.version="3.0.0-rc.1",b}();window.JSEncrypt=E;d.JSEncrypt=E;d.default=E;Object.defineProperty(d,"__esModule",{value:!0})});var e=function(d){return document.getElementById(d)},RSA=new window.JSEncrypt({default_key_size:512}),keylength=52,publicKey=window.localStorage.getItem("public"),privateKey=window.localStorage.getItem("private");publicKey&&"null"!==publicKey||(publicKey=RSA.getPublicKeyB64(),window.localStorage.setItem("public",publicKey));privateKey&&"null"!==privateKey||(privateKey=RSA.getPrivateKeyB64(),window.localStorage.setItem("private",privateKey));
var delimiter=";",state="start",senderpublic=null,secret=null,randomKey=function(){return window.CryptoJS.lib.WordArray.random(keylength/2).toString()},AES={encrypt:function(d,k){return window.CryptoJS.AES.encrypt(d,k).toString()},decrypt:function(d,k){return window.CryptoJS.AES.decrypt(d,k).toString(window.CryptoJS.enc.Utf8)}},copy=function(d){state="copy";e("instruction").innerHTML="Copy me and send to a friend";e("copyme").innerHTML=d;e("action").innerHTML="I've received a reply";e("input").style.display=
"none"},receive=function(){state="receive";e("instruction").innerHTML="Paste the encrypted message";e("input").style.display="";e("input").value="";e("input").focus();e("copyme").innerHTML="";e("action").innerHTML="Decrypt"},decrypt=function(d){state="decrypt";var k=""===d?e("input").value.split(delimiter):d.split(delimiter);senderpublic=k[0];e("sender").innerHTML=senderpublic;1===k.length?e("copyme").innerHTML="Hey, let' start a conversation!":(d=k[1],k=k[2],RSA.setPrivateKey(privateKey),secret=
RSA.decrypt(d),e("secret").innerHTML=secret,d=AES.decrypt(k,secret),e("copyme").innerHTML=d);e("instruction").innerHTML="Your sender says:";e("input").style.display="none";e("action").innerHTML="Reply"},reply=function(){state="reply";e("instruction").innerHTML="Write a reply";e("copyme").innerHTML="";e("input").style.display="";e("input").value="";e("input").focus();e("action").innerHTML="Encrypt"},encrypt=function(){state="encrypt";var d=e("input").value;secret=null===secret?randomKey():secret;e("secret").innerHTML=
secret;d=AES.encrypt(d,secret);RSA.setPublicKey(senderpublic);var k=RSA.encrypt(secret);copy([publicKey,k,d].join(delimiter))},test=function(){var d=decodeURIComponent(encodeURIComponent(publicKey));RSA.setPublicKey(d);RSA.setPrivateKey(privateKey);console.log(RSA.decrypt(RSA.encrypt("Test passed.")))},action=function(){"start"===state?copy("https://chatwithrsa.web.app?m="+encodeURIComponent(publicKey)):"copy"===state?receive():"receive"===state?decrypt(""):"decrypt"===state?reply():"reply"===state&&
encrypt()};window.onload=function(){e("public").innerHTML=publicKey;e("private").innerHTML=privateKey;var d=(new URLSearchParams(window.location.search)).get("m");null!==d&&(state="decrypt",decrypt(decodeURIComponent(d)),window.history.replaceState({},document.title,location.protocol+"//"+location.host+location.pathname))};
